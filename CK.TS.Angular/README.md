# CK-TS-Angular
Supports Angular (v18+) by enabling the @local/ck-gen code to interact with an Angular host application.

## Testing with Jest

https://medium.com/@ayushgrwl365/jesting-your-angular-app-simplifying-unit-testing-with-jest-324f5bb9e2df


## Usage
Based on a minimal Angular initial application generated by:

`ng new AngularDemo ---style=less --package-manager=yarn --interactive=false --standalone=true --skip-install=true --skip-git=true`

Installing this package generates a `CKGenAppModule` that:
- must be imported in the application component:
```typescript
import { Component } from '@angular/core';
import { RouterOutlet } from '@angular/router';
import { CKGenAppModule } from '@local/ck-gen';

@Component({
  selector: 'app-root',
  standalone: true,
  imports: [RouterOutlet, CKGenAppModule],
  templateUrl: './app.component.html',
  styleUrl: './app.component.less'
})
export class AppComponent {
  title = 'My Application';
}
```
- has a Providers static fields that must be appended to the "root" injector:
```typescript
import { ApplicationConfig, provideZoneChangeDetection } from '@angular/core';
import { provideRouter } from '@angular/router';

import { routes } from './app.routes';
import { CKGenAppModule } from '@local/ck-gen'

export const appConfig: ApplicationConfig = {
  providers: [provideZoneChangeDetection({ eventCoalescing: true }), provideRouter(routes), ...CKGenAppModule.Providers],
};
```

## How it works
The associated `CK.TS.Angular.Engine` generates the `/ck-gen/CK/Angular/CKGenAppModule.ts` file:
```typescript
import { NgModule, Provider } from '@angular/core';

@NgModule({
    imports: [
    // Registered NgModules come here.
    ],
    exports: [
    // Registered NgModules also come here.
]
  })
export class CKGenAppModule {
   static Providers : Provider[] = [
    // Registered providers come here.
   ];
}
```
This module acts as a simple re-exporter of modules and holds an array of environment ("root") provider of services.

